{% extends "documents/todo.html" %}
{% load i18n %}

{% block sidebar %}
{% endblock %}

{% block content %}
<h2>{% blocktrans %}Edit Local Words for Grade {{grade}}{% endblocktrans %}</h2>

<div class="issue">
  
  <h3>{{ document.title }}</h3>
  
  {% include "documents/documentDetails.html" %}

  <table>
    <tr>
      <td><b>{% trans 'Total local words' %}:</b></td><td>{{paginator.count}}</td>
    </tr>
  </table>
  {% include "dictionary/pagination.html" %}
  <hr />

  <div id="relations">
    <form method="post" action="">{% csrf_token %}
      {{ formset.management_form }}
      <table>
	{% for form in formset.forms %}
	{% if forloop.first %}
	<tr>
	  {% for field in form %}
	  {% if field.is_hidden %}
          <th></th>
	  {% else %}
          <th>{{ field.label }}</th>
	  {% endif %}
	  {% endfor %}
	</tr>
	{% endif %}
	<tr class="{% cycle 'odd' 'even' %}">
	  {% for field in form %}
	  <td>{{ field }}</td>
	  {% endfor %}
	  {% if form.errors %}
	  <td>
	    <div class="errorExplanation" id="errorExplanation">
	      <span>{{ form.errors|length }} error{{ form.errors|pluralize }}:</span>
	      {{ form.errors }}
	    </div>
	  </td>
	  {% endif %}
	</tr>
	{% empty %}
	<p>{% trans 'No local words to display' %}</p>
	{% endfor %}
      </table>
      {% if paginator == None or paginator.count > 0 %}
      <input type="submit" value="{% trans 'Submit' %}" />
      {% endif %}
      <a href="{% url todo_detail  document.id %}">{% trans 'Cancel' %}</a>
    </form>
  </div>
</div>
{% endblock %}
